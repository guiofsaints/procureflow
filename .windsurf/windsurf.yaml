project:
  name: ProcureFlow
  description: AI-native procurement platform - Bootstrap codebase for tech case implementations
  version: 0.1.0
  repository: https://github.com/procureflow/procureflow

stack:
  language: TypeScript
  framework: Next.js 15
  runtime: Node.js 18+
  package_manager: pnpm

architecture:
  type: monorepo
  pattern: app_router
  infrastructure: pulumi_gcp
  containerization: docker

key_directories:
  - path: apps/web
    role: Next.js application with App Router
    focus: React components, API routes, authentication

  - path: apps/web/src/lib
    role: Domain-organized utility libraries
    focus: auth, database, AI integration, utilities

  - path: infra/pulumi/gcp
    role: Infrastructure as Code for Google Cloud Platform
    focus: Cloud Run, Storage, IAM configurations

  - path: docker
    role: Container configurations
    focus: Multi-stage builds, production optimization

  - path: .guided
    role: Guided Engineering documentation
    focus: Quality assessments, conventions, standards

coding_standards:
  typescript:
    - Use strict mode with noEmit: true
    - Prefer const over let for immutable values
    - Organize imports: external libraries â†’ internal modules
    - Use proper type definitions in src/types/

  react:
    - Default to React Server Components
    - Use 'use client' only when necessary
    - Follow Next.js 15 App Router patterns
    - Implement proper error boundaries

  styling:
    - Use Tailwind CSS utility classes
    - Leverage cn() utility for conditional classes
    - Follow responsive design conventions
    - Keep global styles in src/styles/globals.css

ai_integration:
  framework: LangChain
  provider: OpenAI
  patterns:
    - Use established client in src/lib/ai/langchainClient
    - Leverage predefined prompt templates
    - Handle AI service failures gracefully
    - Check environment variables before AI calls

database:
  provider: MongoDB
  orm: Mongoose
  patterns:
    - Use cached connection helper from src/lib/db/
    - Implement proper error handling
    - Follow schema definitions in src/types/

authentication:
  framework: Auth.js (NextAuth)
  providers: [credentials, google_oauth_stub]
  patterns:
    - Use getServerSession for server components
    - Implement session checks in API routes
    - Follow existing auth configuration

development_workflow:
  quality_gates:
    - TypeScript compilation must succeed
    - ESLint must pass without warnings
    - Prettier formatting enforced
    - Conventional commit messages required

  scripts:
    lint: pnpm lint
    format: pnpm format
    build: pnpm build
    type_check: pnpm type-check
    dev: pnpm dev

infrastructure:
  local_development:
    - Use docker-compose for MongoDB
    - pnpm workspace for package management
    - Health checks at /api/health

  production:
    - Multi-stage Docker builds
    - Pulumi for GCP deployment
    - Environment variable management

conventions:
  guided_engineering:
    - Reference .guided/ folder for standards
    - Follow documented assessment patterns
    - Maintain quality as per codebase reviews
    - Respect bootstrap foundation integrity

  file_organization:
    - Components in src/components/ with index exports
    - Utilities organized by domain in src/lib/
    - Types centralized in src/types/
    - Infrastructure separate from application code

  avoid:
    - Mixing business logic with infrastructure
    - Creating duplicate utility functions
    - Using console.log for error logging
    - Ignoring TypeScript or ESLint warnings
    - Bypassing established patterns

tags:
  - ai-native
  - nextjs-app-router
  - typescript-strict
  - guided-engineering
  - bootstrap-codebase
  - production-ready
  - langchain-integration
  - pulumi-gcp
