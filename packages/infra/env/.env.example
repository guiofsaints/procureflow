# =============================================================================
# ProcureFlow Environment Variables - Example Template
# =============================================================================
# This file contains safe defaults and documentation for all environment
# variables used by the ProcureFlow application and infrastructure.
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to create environment-specific configs:
#    - .env.web (Next.js application variables)
#    - .env.mongo (MongoDB credentials)
# 2. Replace placeholder values with real secrets (DO NOT commit these files)
# 3. Generate NEXTAUTH_SECRET: openssl rand -base64 32
# 4. Ensure .env.web and .env.mongo are in .gitignore
#
# =============================================================================

# -----------------------------------------------------------------------------
# Next.js Application Variables (.env.web)
# -----------------------------------------------------------------------------

# Node environment (production, development, test)
NODE_ENV=production

# Next.js public URL (used by NextAuth for redirects)
NEXTAUTH_URL=http://localhost:3000

# NextAuth secret for session encryption
# CRITICAL: Generate with: openssl rand -base64 32
# DO NOT use this placeholder in production!
NEXTAUTH_SECRET=CHANGE_ME_generate_with_openssl_rand_base64_32

# MongoDB connection string
# Format: mongodb://username:password@host:port/database?authSource=admin
# Note: authSource=admin required for root user authentication
MONGODB_URI=mongodb://admin:password@mongo:27017/procureflow?authSource=admin

# OpenAI API Key (optional - required for AI agent features)
# Obtain from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-...

# Next.js Telemetry (disable in production for privacy)
NEXT_TELEMETRY_DISABLED=1

# Application port (default: 3000)
PORT=3000

# Server hostname binding (0.0.0.0 allows external connections)
HOSTNAME=0.0.0.0

# -----------------------------------------------------------------------------
# MongoDB Variables (.env.mongo)
# -----------------------------------------------------------------------------

# MongoDB root username
# Used by mongo-express and initial database setup
MONGO_INITDB_ROOT_USERNAME=admin

# MongoDB root password
# CRITICAL: Change this in production!
MONGO_INITDB_ROOT_PASSWORD=password

# MongoDB initial database name
# Created automatically on first startup
MONGO_INITDB_DATABASE=procureflow

# -----------------------------------------------------------------------------
# Optional: Mongo Express Variables (debug profile only)
# -----------------------------------------------------------------------------
# These are typically set in compose.yaml but can be overridden here

# ME_CONFIG_MONGODB_ADMINUSERNAME=admin
# ME_CONFIG_MONGODB_ADMINPASSWORD=password
# ME_CONFIG_MONGODB_URL=mongodb://admin:password@mongo:27017/?authSource=admin
# ME_CONFIG_BASICAUTH=false

# -----------------------------------------------------------------------------
# Security Checklist
# -----------------------------------------------------------------------------
# Before deploying to production:
# [ ] Generate unique NEXTAUTH_SECRET
# [ ] Change MongoDB root password
# [ ] Verify .env.web and .env.mongo are in .gitignore
# [ ] Test authentication with new credentials
# [ ] Enable MongoDB authentication enforcement
# [ ] Review network security (firewalls, VPC)
# [ ] Enable TLS/SSL for MongoDB connections
# [ ] Rotate secrets regularly (90 days recommended)
