# ProcureFlow Logging - Environment Configuration Template
# Copy to .env.local and adjust values for your environment

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Enable/disable structured logging (default: true)
# Set to false for emergency rollback or debugging
LOG_ENABLED=true

# Log level: error | warn | info | debug | silly (default: info)
# Development: debug | Production: info | Troubleshooting: debug
LOG_LEVEL=info

# Log format: ecs | human (default: ecs in production, human in development)
# ecs = Elastic Common Schema (JSON) for observability tools
# human = Colored, readable format for local development
LOG_FORMAT=ecs

# Sampling rate: 0.0 to 1.0 (default: 1.0)
# Controls percentage of requests logged (errors always logged)
# Examples:
#   1.0 = Log everything (development)
#   0.2 = Log 20% of requests (staging)
#   0.05 = Log 5% of requests (production)
LOG_SAMPLING=1.0

# Additional PII redaction keys (comma-separated)
# Default keys always redacted: password, token, authorization, secret, cookie
# Add application-specific sensitive keys here
LOG_REDACT_KEYS=api_key,ssn,credit_card

# ============================================================================
# EXTERNAL LOG TRANSPORT (OPTIONAL)
# ============================================================================

# Loki/Grafana configuration (production only)
# Uncomment and set if using centralized log aggregation
# LOKI_HOST=https://loki.procureflow.com

# ============================================================================
# EXAMPLE CONFIGURATIONS BY ENVIRONMENT
# ============================================================================

# LOCAL DEVELOPMENT
# -----------------
# LOG_ENABLED=true
# LOG_LEVEL=debug
# LOG_FORMAT=human
# LOG_SAMPLING=1.0

# STAGING/QA
# ----------
# LOG_ENABLED=true
# LOG_LEVEL=info
# LOG_FORMAT=ecs
# LOG_SAMPLING=0.2

# PRODUCTION
# ----------
# LOG_ENABLED=true
# LOG_LEVEL=info
# LOG_FORMAT=ecs
# LOG_SAMPLING=0.05
# LOG_REDACT_KEYS=api_key,ssn,credit_card,bank_account
# LOKI_HOST=https://loki.procureflow.com

# ============================================================================
# TROUBLESHOOTING
# ============================================================================

# Logs not appearing?
# → Check LOG_ENABLED=true
# → Verify no syntax errors in logger modules
# → Check browser/terminal console for errors

# Too many logs / performance impact?
# → Reduce LOG_SAMPLING (e.g., 0.05)
# → Increase LOG_LEVEL to warn or error
# → Disable debug logs in production

# Need more detail for debugging?
# → Set LOG_LEVEL=debug temporarily
# → Set LOG_SAMPLING=1.0 temporarily
# → Check specific request with x-request-id header

# PII showing in logs?
# → Add keys to LOG_REDACT_KEYS
# → Report to security team
# → Review log sanitization in winston.config.ts